<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:cc="http://xmlns.jcp.org/jsf/composite"
	xmlns:p="http://primefaces.org/ui">

<cc:interface>
	<cc:attribute
		name="value"
		type="java.lang.Number"
		displayName="Value"
		shortDescription="Value of the input."
		required="true"/>
		
	<cc:attribute
		name="required"
		type="java.lang.Boolean"
		displayName="Required"
		shortDescription="Required."
		default="false"
		required="false"/>
		
	<cc:attribute
		name="label"
		default="Valor monetÃ¡rio"
		type="java.lang.String"
		required="false" />
		
	<cc:attribute
		name="disabled"
		default="false"
		type="java.lang.Boolean"
		required="false" />
		
	<cc:clientBehavior name="change" targets="#{cc.attrs.id}" event="change" />
</cc:interface>

<cc:implementation>
	<h:outputScript library="webjars"
			name="jquery-maskmoney/3.0.2/dist/jquery.maskMoney.js" target="head" />
	<h:outputScript library="js" name="components/inputMoneyBrl.js" target="head" />
	
	<!-- styleClass="ui-input-money" -->
	<p:inputText
		value="#{cc.attrs.value}"
		id="#{cc.attrs.id}"
		required="#{cc.attrs.required}"
		onfocus="maskMoneyComponent(this);"
		disabled="#{cc.attrs.disabled}"
		label="#{cc.attrs.label}">
		
		<f:convertNumber
			groupingUsed="true"
			currencyCode="BRL"
			type="currency"
			locale="pt_BR"
			minFractionDigits="2"
			maxFractionDigits="2"
			currencySymbol="R$" />
			
		<cc:insertChildren />
	</p:inputText>
</cc:implementation>

</html>